.imageblock(id=@id class=[@style,role]
    style=[("text-align: #{attr :align}" if attr? :align),("float: #{attr :float}" if attr? :float)].compact.join('; '))
  .content
    - if attr? :link
      a.image href=(attr :link)
        img src=image_uri(attr :target) alt=(attr :alt) width=(attr :width) height=(attr :height) style=((attr? :background) ? "background: #{attr :background}" : nil) class=((attr? :class) ? "class: #{attr :class}" : nil)
    - else
      img src=image_uri(attr :target) alt=(attr :alt) width=(attr :width) height=(attr :height) style=((attr? :background) ? "background: #{attr :background}" : nil) class=((attr? :class) ? "class: #{attr :class}" : nil)
  - if title?
    .title=captioned_title
